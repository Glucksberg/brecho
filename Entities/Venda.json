{
    "name": "Venda",
    "type": "object",
    "properties": {
      "produto_id": {
        "type": "string",
        "description": "ID do produto vendido"
      },
      "produto_nome": {
        "type": "string",
        "description": "Nome do produto vendido"
      },
      "valor_venda": {
        "type": "number",
        "description": "Valor da venda"
      },
      "desconto": {
        "type": "number",
        "default": 0,
        "description": "Desconto aplicado"
      },
      "forma_pagamento": {
        "type": "string",
        "enum": [
          "dinheiro",
          "pix",
          "cartao_debito",
          "cartao_credito"
        ],
        "description": "Forma de pagamento"
      },
      "cliente_id": {
        "type": "string",
        "description": "ID do cliente (opcional)"
      },
      "cliente_nome": {
        "type": "string",
        "description": "Nome do cliente (para exibição rápida)"
      },
      "observacoes": {
        "type": "string",
        "description": "Observações da venda"
      },
      "data_venda": {
        "type": "string",
        "format": "date",
        "description": "Data em que a venda foi efetivamente realizada"
      }
    },
    "required": [
      "produto_id",
      "produto_nome",
      "valor_venda",
      "forma_pagamento"
    ],
    "rls": {
      "read": {
        "created_by": "{{user.email}}"
      },
      "write": {
        "created_by": "{{user.email}}"
      }
    }
  }